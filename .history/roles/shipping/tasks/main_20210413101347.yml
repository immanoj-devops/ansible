- name: Install Maven 
  yum:
    name: maven
    state: latest

- name: Downloading Shipping Code  
  include_role:
    name: common
    tasks_from: curl_download 
  vars: 
    - URL: "https://github.com/roboshop-devops-project/shipping/archive/main.zip"
    - EXTRACT_DIR: "/home/roboshop/shipping" 
    - APP_USER: "roboshop"

- name: Install Maven Modules
  ansible.builtin.shell: mvn clean package && mv target/shipping-1.0.jar shipping.jar
  args:
    chdir: /home/roboshop/{{COMPONENT}}
  become_user: roboshop